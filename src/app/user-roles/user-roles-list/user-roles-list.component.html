<ng-template #deleteTemplate>
  <app-delete-template [modalTitle]="modalDeleteTitle" [modalMessage]="modalDeleteMessage"
      (delete)="deleteUserRole()" (close)="closeModal()">
  </app-delete-template>
</ng-template>

<ng-template #errorTemplate>
  <app-error-template [errorTitle]="modalErrorTittle" [errorMessage]="modalErrorMessage" (close)="closeModal()">
  </app-error-template>
</ng-template>

<div class="row pl-0 pr-0 ml-0 mr-0 pt-0 heightThree">
  <div class="col-md-8 col-lg-8 col-sm-8 pr-0 pl-0 mr-0 pr-0">
      <div class="settingsTitle">
          <div class="float-left">
              <header class="major">
                  <h5 class="customTitle">{{ 'UserRoles.listPageTitle' | translate }}</h5>
              </header>
          </div>
          <div class="float-right">
              <a [routerLink]="['/settings/general-settings/roles-users', { outlets: { edit: ['newUserRole'] } }]"
                  class="btn btn-primary btn-sm waves-light customButton" mdbRippleRadius 
                  *ngIf='enableNew'> + {{ 'UserRoles.newRole' | translate }}</a>
          </div>
      </div>

      <div class="row mb-2 mt-2 ml-2">
          <span class="red-label">{{ 'UserRoles.cantDeleteRole' | translate }}</span>
      </div>

      <div class="row mb-2 mt-2 ml-2" *ngIf="validationMessage !== 'undefined' && validationMessage !== null">
          <span class="errorMessage">{{ validationMessage }}</span>
      </div>

      <div class="ml-5 mr-5 pl-5 pr-5  pt-1 pb-2 mt-2 text-center">
          <div class="row">
              <table class="table table-bordered table-hover customTable">
                  <thead class="primary-color customTableText">
                      <tr>
                          <th>{{ 'UserRoles.rolNameHeaderColumn' | translate }}</th>
                          <th>{{ 'UserRoles.usersHeaderColumn' | translate }}</th>
                          <th *ngIf='enableActionButtons'>{{ 'Commons.Grid.Header.actions' | translate }}</th>
                      </tr>
                  </thead>
                  <tbody class="table-wrapper" *ngIf='userRoles && userRoles.length'>
                      <tr *ngFor='let userRole of userRoles '>
                          <td>{{ userRole.name }}</td>
                          <td>{{ userRole.users }}</td>
                          <td class="align-middle" *ngIf='enableActionButtons'>
                              <a [routerLink]="['/settings/general-settings/roles-users', { outlets: { edit: ['editUserRole', userRole._id] } }]"
                                  class="btn btn-yellow btn-sm customButtonText"
                                  *ngIf='enableEdit'>{{ 'Commons.Grid.Buttons.edit' | translate }}</a>
                              <button [disabled]="userRole.delete === false" type="button"
                                  class="btn btn-red btn-sm"
                                  (click)="showModalDelete(deleteTemplate, userRole._id)"
                                  *ngIf='enableDelete'>{{ 'Commons.Grid.Buttons.delete' | translate }}</button>
                          </td>
                      </tr>
                  </tbody>
              </table>
          </div>
      </div>
  </div>

  <div class="col-md-4 col-lg-4 col-sm-4 mr-0 pr-0 pl-0 pb-0 mt-0 pt-0 outletGeneric verticalScroll">
      <router-outlet name="edit" (deactivate)='reloadItems()'></router-outlet>
  </div>
</div>