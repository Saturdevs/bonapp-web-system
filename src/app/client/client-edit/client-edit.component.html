<ng-template #cancelTemplate>
  <div class="modal-header">
    <h4 class="modal-title">Cancelar Cambios</h4>
  </div>
  <div class="modal-body">
    ¿Está seguro que desea cancelar los cambios?
  </div>
  <div class="modal-footer">
    <button type="button" class="button special" (click)="cancel()">Ok</button>
    <button type="button" class="button special" (click)="closeModal()">Cancel</button>
  </div>
</ng-template>

<!-- Form -->
<div *ngIf='client'>
  <header class="major" align="center">
    <h2>{{ pageTitle + clientNameModified }}</h2>
  </header>
  <div class="row">
    <div class="col-md-6">
      <form #form="ngForm" method="post" novalidate>
        
        <div class="form-group">
          <label>Nombre:</label>
          <input #clientName="ngModel" required type="text" class="form-control" [class.is-invalid]="clientName.invalid && (clientName.dirty || clientName.touched)" name="clientName" 
                id="clientName" [(ngModel)]="client.name">
        </div>

        <div *ngIf="clientName.invalid && (clientName.dirty || clientName.touched)" class="alert alert-danger">
          El nombre es un campo es requerido.
        </div>

        <div class="form-group">
          <label>Teléfono:</label>
          <input #clientTel="ngModel" type="text" class="form-control" [class.is-invalid]="clientTel.invalid && (clientTel.dirty || clientTel.touched)" name="clientTel" 
                id="clientTel" [(ngModel)]="client.tel">
        </div>
        
        <div class="form-group">
          <label>Dirección:</label>
          <input #clientAddressStreet="ngModel" type="text" class="form-control" name="clientAddressStreet" 
                id="clientAddressStreet" [(ngModel)]="client.addressStreet"
                placeholder="Calle">

          <br>
          
          <input #clientAddressNumber="ngModel" type="text" class="form-control" name="clientAddressNumber" 
                id="clientAddressNumber" [(ngModel)]="client.addressNumber"
                placeholder="Número">

          <input #clientAddressDpto="ngModel" type="text" class="form-control" name="clientAddressDpto" 
                id="clientAddressDpto" [(ngModel)]="client.addressDpto"
                placeholder="Piso / Dpto">
        </div>

        <div class="md-form">
            <input mdbDeepDirective [(ngModel)]="client.enabledTransactions" type="checkbox" name="checkEnabledTransactions" id="checkEnabledTransactions">
            <label for="checkEnabledTransactions">Tiene Cta Cte</label>
        </div>
        
        <div class="">
          <ul class="actions" align="center">
            <li><input [disabled]="form.invalid" type="submit" value="Aceptar" class="special" (click)="updateClient(client)"/></li>
            <li><input (click)="showModalCancel(cancelTemplate)" type="button" value="Cancel" /></li>
          </ul>
        </div> 
      </form>
    </div>
  </div>
</div>