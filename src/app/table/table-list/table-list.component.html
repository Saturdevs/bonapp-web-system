<ng-template #openNewOrderTemplate>
  <div class="modal-header primary-color">
    <h4 class="modal-title text-white">Nuevo pedido</h4>
  </div>
  <div class="modal-body">
    <div class="row pl-4">
      <div class="float-left col-md-3 col-lg-3 col-sm-3">
        <input type="number" class="form-control" [(ngModel)]="tableNumber" id="tableNumber" mdbActive>
        <label for="tableNumber">Nro. de Mesa</label>
      </div>
    </div>
    <hr>
    <div class="row col-md-12 col-lg-12 col-sm-12 col-xs-12">
      <div class="md-form form-group col-md-4 col-lg-4 col-sm-4 col-xs-4">
        <input type="number" class="form-control" [(ngModel)]="qtyProd" id="prodQty" mdbActive>
        <label for="prodQty">Cantidad de personas</label>
      </div>
      <div class="col-md-8 col-lg-8 col-sm-8 col-xs-8">
        <mdb-completer style="width:100%!important;" (selected)="selectWaiter()" [label]="'Seleccionar Mozo'" name="autocomplete" [(ngModel)]="selectedWaiter" [datasource]="waitersList" [minSearchLength]="0"></mdb-completer>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="button special" (click)="newOrder()">Ok</button>
    <button type="button" class="button special" (click)="closeModal()">Cancel</button>
  </div>
</ng-template>

<ng-template #deleteTemplate>
  <div class="modal-header">
    <h4 class="modal-title">Eliminar Mesa</h4>
  </div>
  <div class="modal-body">
    Â¿Estas seguro que desea eliminar esta mesa?
  </div>
  <div class="modal-footer">
    <button type="button" class="button special" (click)="deleteTable()">Ok</button>
    <button type="button" class="button special" (click)="closeModal()">Cancel</button>
  </div>
</ng-template>
<!-- Grid Tables -->

<div class="row">
<div class="container-fluid">  
  <div class="rounded z-depth-2 blue-grey lighten-4 fix" [ngGrid]="gridConfig">
    <div *ngFor="let box of boxes; let i = index" [(ngGridItem)]="box.config" (onItemChange)="updateItem(i, $event)" (onResize)="onResize(i, $event)" (onDrag)="onDrag(i, $event)">
      <div class="handle z-depth-3 card accent-4 text-center hoverable" (click)="showOpenOrderModal(openNewOrderTemplate, box.id)" [class.green]="box.status === 'Libre'" [class.red]="box.status === 'Ocupada'" [class.yellow]="box.status === 'Comandada'" [class.blue]="box.status === 'Reservada'"> 
      <div class="text-right customCloseCursor" style="position: static;"  *ngIf = "settingsActive === true" 
           (click)="showDeleteModal(deleteTemplate, box.id)">
        <span aria-hidden="true" class="close pr-2 mr-1 ml-1 pl-1 mt-1 mb-1 pb-1 pt-1">&times;</span>
      </div>
        <div class="card-body child">
          <p class="white-text mb-0">{{box.id}}</p>
        </div>
      </div>
    </div>
  </div>
<!-- Configuration Buttons -->
<div class="fixed-action-btn" *ngIf = "ordersActive === true">
  <a class="btn-floating btn-large red darken-1 waves-light" [routerLink]="['orderNew']" mdbRippleRadius><i class="fa fa-plus"></i></a>
</div>

<div class="fixed-action-btn" style="bottom: 45px; right: 24px;" *ngIf = "settingsActive === true" (mouseleave)="fixed.toggle()">

    <a class="btn-floating btn-large blue waves-light" mdbRippleRadius (mouseenter)="fixed.toggle()">
        <i class="fa fa-cog"></i>
    </a>

    <div class="fixed_collapse" mdbCollapse="isCollapsed" #fixed="bs-collapse">
        <a class="btn-floating yellow darken-1 waves-light" (click)="addBox()" mdbRippleRadius><i class="fa fa-plus"></i></a>
        <a class="btn-floating green darken-1 waves-light" (click)="saveChanges()" mdbRippleRadius><i class="fa fa-floppy-o"></i></a>
    </div>

</div>